<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Product",
    "name": "{{ product_detail.productname }}",
    "image": {{ product_detail.productimg | json }},
    "description": "{{ product_detail.shortDescription }}",
    "brand": {
      "@type": "Brand",
      "name": "Riya Orangery"
    },
    "offers": {
      "@type": "Offer",
      "priceCurrency": "INR",
      "price": "{{ product_detail.productlowprice }}",
      "availability": "https://schema.org/{{ product_detail.stockAvailable ? 'InStock' : 'OutOfStock' }}"
    }
  }
</script>
<div class="wrapper">
  <div class="main">
    <div class="section">
      <div class="product-page container">
        <div class="product-main">
          <!-- LEFT: Image -->
          <div class="product-gallery">
            <!-- Main Product Image -->
            <div class="main-image">
              <ngb-carousel
                #carousel
                class="product-carousel"
                [interval]="0"
                [wrap]="true"
                [keyboard]="true"
                [showNavigationArrows]="true"
                [showNavigationIndicators]="false"
              >
                <ng-template
                  ngbSlide
                  *ngFor="let img of product_detail.productimg; let i = index"
                  [id]="'slide-' + i"
                >
                  <div class="carousel-image-wrapper">
                    <img
                      [src]="img"
                      alt="{{ product_detail.productname }} indoor plant image {{ i + 1 }}"
                    />
                  </div>
                </ng-template>
              </ngb-carousel>
            </div>

            <!-- Thumbnails -->
            <div class="thumbnails">
              <img
                *ngFor="let img of product_detail.productimg; let i = index"
                [src]="img"
                (click)="selectImage(i)"
                class="thumb-img"
                alt="{{ product_detail.productname }} thumbnail {{ i + 1 }}"
              />
            </div>
          </div>

          <!-- RIGHT: Details -->
          <div class="product-details">
            <div class="product-badges">
              <span
                class="badge badge-out-of-stock"
                *ngIf="product_detail.stockAvailable === false"
              >
                <i class="fa fa-ban"></i> Out of Stock
              </span>
              <span class="badge badge-discount" *ngIf="product_detail.discount !== 0">
                <i class="fa fa-tag"></i> {{ product_detail.discount }}% OFF
              </span>
            </div>

            <h1 class="product-title">{{ product_detail.productname }}</h1>
            <div class="product-label">
              <i class="fa fa-leaf"></i> {{ product_detail.productlabel }}
            </div>

            <div class="product-price-range">
              <span class="currency">‚Çπ</span>{{ product_detail.productlowprice }} -
              <span class="currency">‚Çπ</span>{{ product_detail.producthighprice }}
            </div>

            <p class="product-short-description">
              {{ product_detail.shortDescription }}
            </p>
            <div class="product-options" *ngIf="product_detail.stockAvailable === true">
              <div class="option-group">
                <label class="option-label">
                  <i class="fa fa-expand"></i> Plant Diameter
                  <span class="selected-value" *ngIf="diamet">: {{ this.diamet }}</span>
                </label>
                <div class="option-buttons">
                  <button
                    type="button"
                    class="option-btn"
                    [class.active]="diamet === diameter"
                    (click)="onDiameterClick($event)"
                    *ngFor="let diameter of diam"
                  >
                    {{ diameter }}
                  </button>
                </div>
              </div>

              <div class="option-group">
                <label class="option-label">
                  <i class="fa fa-clone"></i> Pot Diameter
                  <span class="selected-value" *ngIf="pots">: {{ this.pots }}</span>
                </label>
                <div class="option-buttons">
                  <button
                    type="button"
                    class="option-btn"
                    [class.active]="pots === pott"
                    (click)="onPotClick($event)"
                    *ngFor="let pott of pot"
                  >
                    {{ pott }}
                  </button>
                </div>
              </div>

              <div class="option-group">
                <label class="option-label">
                  <i class="fa fa-tint"></i> Soil Type
                  <span class="selected-value" *ngIf="soil">: {{ this.soil }}</span>
                </label>
                <div class="option-buttons">
                  <button
                    type="button"
                    class="option-btn"
                    [class.active]="soil === Soil"
                    (click)="onSoilClick($event)"
                    *ngFor="let Soil of Soil"
                  >
                    {{ Soil }}
                  </button>
                </div>
              </div>

              <div
                class="final-price"
                *ngIf="price_range !== 0 && product_detail.stockAvailable === true"
              >
                <div class="price-display">
                  <span class="price-label">Final Price:</span>
                  <div class="price-values">
                    <span class="original-price" *ngIf="product_detail.discount !== 0">
                      ‚Çπ{{ price_range }}
                    </span>
                    <span class="current-price">
                      ‚Çπ{{ product_detail.discount !== 0 ? price_range_updated : price_range }}
                    </span>
                  </div>
                </div>
              </div>
            </div>

            <div class="product-actions">
              <div class="quantity-selector" *ngIf="product_detail.stockAvailable === true">
                <label class="qty-label">Quantity</label>
                <input type="number" min="1" max="99" [(ngModel)]="quantity" class="qty-input" />
              </div>

              <div class="action-buttons">
                <button
                  class="btn-add-cart"
                  *ngIf="product_detail.stockAvailable === true"
                  (click)="AddtoCart(product_detail, $event)"
                >
                  <i class="fa fa-shopping-cart"></i> Add to Cart
                </button>
                <button
                  class="btn-wishlist"
                  (click)="toggleWishlist(product_detail, $event)"
                  [class.active]="product_detail.isWishlisted"
                >
                  <i
                    class="fa"
                    [ngClass]="product_detail.isWishlisted ? 'fa-heart' : 'fa-heart-o'"
                  ></i>
                  <span>{{ product_detail.isWishlisted ? 'Wishlisted' : 'Add to Wishlist' }}</span>
                </button>
              </div>
            </div>

            <div class="error-alert" *ngIf="errorMessage">
              <i class="fa fa-exclamation-circle"></i> {{ errorMessage }}
            </div>
          </div>
        </div>

        <!-- Tabs -->
        <ul ngbNav #nav="ngbNav" class="nav nav-tabs">
          <li [ngbNavItem]="1">
            <a ngbNavLink style="font-size: medium; font-weight: bold">Description</a>
            <ng-template ngbNavContent>
              <h2 style="font-size: medium">
                <p class="product-description">
                  {{ product_detail.description }}
                </p>
              </h2></ng-template
            >
          </li>
          <li [ngbNavItem]="2">
            <a ngbNavLink style="font-size: medium; font-weight: bold">Tips</a>
            <ng-template ngbNavContent>
              <h2 style="font-size: medium">{{ product_detail.tips }}</h2>
            </ng-template>
          </li>
        </ul>

        <div [ngbNavOutlet]="nav" class="mt-2"></div>
      </div>
      <div class="container">
        <div class="" style="text-align: left">
          <h4 style="font-weight: 600">Disclaimer:</h4>
          <h5>
            Plant care information is for general informational purposes only. Specific needs may
            vary based on your local climate and growing conditions‚Ä¶!!! For all succulent And
            cactus..üëÜüèºüëÜüèº
          </h5>
        </div>
      </div>
    </div>
    <div class="section" *ngIf="prod_detail && prod_detail.length > 0">
      <div class="container">
        <div class="" style="text-align: left">
          <h2 style="font-weight: 600">Related Product</h2>
        </div>
      </div>
      <div class="container front-display-section">
        <div class="front-display-section-item" *ngFor="let prod of prod_detail">
          <br />
          <div
            class="card"
            style="margin-right: 20px"
            [routerLink]="['/Product', prod.productname]"
          >
            <div class="card-cover">
              <img
                style="max-width: 100%"
                src="{{ prod.productimg[0] }}"
                alt="Description of the image"
              />
              <div class="stock-btn1" *ngIf="prod.stockAvailable === false">Out of stock</div>
              <div class="discount-btn1" *ngIf="prod.discount !== 0">{{ prod.discount }}%</div>
              <button class="wishlist-btn1" (click)="toggleWishlist(prod, $event)">
                <i class="fa" [ngClass]="prod.isWishlisted ? 'fa-heart' : 'fa-heart-o'"></i>
              </button>
            </div>
          </div>
          <p style="text-align: left; font-size: smaller">{{ prod.productlabel }}</p>
          <p class="p-title" style="text-align: left">{{ prod.productname }}</p>
          <p class="p-title" style="text-align: left">
            <span>&#8377;</span>{{ prod.productlowprice }}-<span>&#8377;</span
            >{{ prod.producthighprice }}
          </p>
          <!-- Star Rating Component
        <app-star-rating
          [rating]="prod.productrating"
          [edit_rate]="1"
          style="text-align: left"
        ></app-star-rating>
        --></div>
      </div>
    </div>
  </div>
</div>
