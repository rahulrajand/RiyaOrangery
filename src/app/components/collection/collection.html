<div class="wrapper">
  <div class="zoom-wrappers">
    <div
      class="page-header page-header-small section-dark"
      style="background-image: url('img/main-bg.jpg')"
    ></div>
    <div class="filter"></div>
    <div class="content-center zoom-content-prod">
      <div class="container">
        <div class="title-brand">
          <br /><br /><br /><br /><br /><br /><br /><br />
          <h1>Indoor Plants & Succulents Collection – Riya Orangery</h1>
        </div>
      </div>
    </div>
  </div>
  <div class="main">
    <div class="section">
      <section class="seo-text container mt-4">
        <p>
          Explore our complete collection of indoor plants, succulents, and cactus at Riya Orangery.
          Each plant is carefully selected to suit Indian homes and offices, requiring minimal
          maintenance while enhancing indoor beauty.
        </p>

        <p>
          Browse plants by category, size, and price to find the perfect match for your space. From
          air-purifying indoor plants to decorative succulents, our collection is ideal for
          beginners and plant enthusiasts alike.
        </p>
      </section>
      <div class="container mt-5">
        <div class="row">
          <!-- FILTER SIDEBAR -->
          <aside class="col-lg-3 d-none d-lg-block">
            <!-- CATEGORY FILTER -->
            <div class="filter-box mb-3">
              <div class="filter-header" (click)="toggleFilterBox('category')">
                <div class="filter-title">
                  <i class="fa fa-filter"></i>
                  <h5>Filter By Category</h5>
                </div>
                <i
                  class="nc-icon"
                  [ngClass]="filterToggle.category ? 'nc-minimal-up' : 'nc-minimal-down'"
                >
                </i>
              </div>
              <div class="selected-filter" *ngIf="category_selected">
                <i class="fa fa-check-circle"></i> {{ category_selected }}
              </div>

              <div class="filter-content" *ngIf="filterToggle.category">
                <label class="filter-option all-category" (click)="onCategoryClick($event)">
                  <i class="fa fa-th"></i> All Category
                </label>
                <div *ngFor="let c of categories">
                  <label
                    class="filter-option"
                    [class.active]="category_selected === c.name"
                    (click)="onCategoryClick($event)"
                  >
                    <i class="fa fa-leaf"></i> {{ c.name }}
                  </label>
                </div>
              </div>
            </div>

            <!-- PLANT DIAMETER FILTER -->
            <div class="filter-box mb-3">
              <div class="filter-header" (click)="toggleFilterBox('plant-Diameter')">
                <div class="filter-title">
                  <i class="fa fa-expand"></i>
                  <h5>Plant Diameter</h5>
                </div>
                <i
                  class="nc-icon"
                  [ngClass]="filterToggle['plant-Diameter'] ? 'nc-minimal-up' : 'nc-minimal-down'"
                >
                </i>
              </div>
              <div class="selected-filter" *ngIf="plantDM_selected.length > 0">
                <i class="fa fa-check-circle"></i> {{ plantDM_selected.join(', ') }}
              </div>
              <div class="filter-content" *ngIf="filterToggle['plant-Diameter']">
                <div class="size-buttons">
                  <button
                    type="button"
                    class="size-btn"
                    [class.active]="plantDM_selected.includes(diam_val)"
                    (click)="onDiameterClick($event)"
                    *ngFor="let diam_val of diam"
                  >
                    {{ diam_val }}
                  </button>
                </div>
              </div>
            </div>

            <!-- COLOR FILTER -->
            <div class="filter-box mb-3">
              <div class="filter-header" (click)="toggleFilterBox('price')">
                <h5 style="font-weight: bold">Price</h5>
                <i
                  class="nc-icon"
                  [ngClass]="filterToggle.price ? 'nc-minimal-up' : 'nc-minimal-down'"
                >
                </i>
              </div>
              <h6 style="font-size: x-small">{{ plantPR_selected }}</h6>

              <div class="filter-content" *ngIf="filterToggle.price">
                <nouislider
                  class="slider slider-info"
                  [connect]="[false, true, false]"
                  [min]="this.minprices"
                  [max]="this.maxprices"
                  [step]="10"
                  [(ngModel)]="doubleSlider"
                  [tooltips]="[false, false]"
                  (ngModelChange)="onPriceClick($event)"
                ></nouislider>
                <span class="price-range"
                  >Price: ₹{{ doubleSlider[0] }} - ₹{{ doubleSlider[1] }}</span
                >
              </div>
            </div>
          </aside>

          <!-- PRODUCTS -->
          <main class="col-lg-9">
            <!-- MOBILE FILTER BUTTON & SORT -->
            <div class="collection-toolbar">
              <button class="btn-filter d-lg-none" (click)="toggleMobileFilters()">
                <i class="fa fa-sliders"></i> Filters
              </button>
              <div ngbDropdown class="d-inline-block dropdown sort-dropdown">
                <button class="btn-sort" id="dropdownBasic1" type="button" ngbDropdownToggle>
                  <i class="fa fa-sort-amount-desc"></i> {{ Dropdown_select }}
                </button>
                <div ngbDropdownMenu aria-labelledby="dropdownBasic1" class="dropdown-menu-modern">
                  <label
                    class="dropdown-item-modern"
                    *ngFor="let option of Dropdown_Option"
                    (click)="SortBy(option)"
                  >
                    <i class="fa fa-check" *ngIf="Dropdown_select === option"></i>
                    {{ option }}
                  </label>
                </div>
              </div>
            </div>

            <div class="row">
              <div
                class="col-sm-6 col-md-4 mb-4"
                *ngFor="let p of product_detail | slice: 0 : visibleCount"
              >
                <a
                  class="card"
                  [routerLink]="['/Product', p.productname]"
                  aria-label="View {{ p.productname }} indoor plant"
                >
                  <div class="img-wrapper">
                    <img
                      [src]="p.productimg[0]"
                      src="./img/Plants/400/{{ p.productimg[0] }}"
                      srcset="./img/Plants/400/{{ p.productimg[0] }} 400w, ./img/Plants/600/{{ p.productimg[0] }} 600w, ./img/Plants/1200/{{ p.productimg[0] }} 1200w"
                      sizes="(max-width: 768px) 100vw, 33vw"
                      loading="lazy"
                      alt="{{ p.productname }} indoor plant"
                      class="card-img-top product-image"
                    />

                    <div class="stock-badge" *ngIf="p.stockAvailable === false">
                      <i class="fa fa-ban"></i> Out of stock
                    </div>
                    <div
                      class="discount-badge"
                      *ngIf="p.discount !== 0 && p.stockAvailable !== false"
                    >
                      <i class="fa fa-tag"></i> {{ p.discount }}% OFF
                    </div>

                    <!-- Wishlist Button -->
                    <button class="wishlist-btn" (click)="toggleWishlist(p, $event)">
                      <i class="fa" [ngClass]="p.isWishlisted ? 'fa-heart' : 'fa-heart-o'"></i>
                    </button>
                  </div>
                  <div class="card-body text-center">
                    <p style="text-align: left; font-size: x-large">{{ p.productname }}</p>
                    <p style="text-align: left; font-size: large">
                      <span>&#8377;</span>{{ p.productlowprice }}-<span>&#8377;</span
                      >{{ p.producthighprice }}
                    </p>
                  </div>
                </a>
              </div>
            </div>

            <div class="load-more-wrapper" *ngIf="product_detail.length > visibleCount">
              <button class="btn-load-more" type="button" (click)="loadMore()">
                <i class="fa fa-plus-circle"></i> Show more products
              </button>
            </div>
          </main>
        </div>
      </div>

      <!-- Mobile Filter Overlay -->
      <div
        class="mobile-filter-overlay"
        [class.active]="mobileFiltersOpen"
        (click)="toggleMobileFilters()"
      ></div>

      <!-- Mobile Filter Panel -->
      <div class="mobile-filter-panel" [class.open]="mobileFiltersOpen">
        <!-- HEADER WITH EXIT -->
        <div class="mobile-filter-header">
          <h5 class="mb-0">Filters</h5>
          <button class="btn btn-default" (click)="toggleMobileFilters()">✕</button>
        </div>

        <!-- FILTER CONTENT -->
        <div class="p-3">
          <!-- CATEGORY FILTER -->
          <div class="filter-box mb-3">
            <div class="filter-header" (click)="toggleFilterBox('category')">
              <div class="filter-title">
                <i class="fa fa-filter"></i>
                <h5>Filter By Category</h5>
              </div>
              <i
                class="nc-icon"
                [ngClass]="filterToggle.category ? 'nc-minimal-up' : 'nc-minimal-down'"
              >
              </i>
            </div>
            <div class="selected-filter" *ngIf="category_selected">
              <i class="fa fa-check-circle"></i> {{ category_selected }}
            </div>

            <div class="filter-content" *ngIf="filterToggle.category">
              <label class="filter-option all-category" (click)="onCategoryClick($event)">
                <i class="fa fa-th"></i> All Category
              </label>
              <div *ngFor="let c of categories">
                <label
                  class="filter-option"
                  [class.active]="category_selected === c.name"
                  (click)="onCategoryClick($event)"
                >
                  <i class="fa fa-leaf"></i> {{ c.name }}
                </label>
              </div>
            </div>
          </div>

          <!-- PLANT DIAMETER FILTER -->
          <div class="filter-box mb-3">
            <div class="filter-header" (click)="toggleFilterBox('plant-Diameter')">
              <div class="filter-title">
                <i class="fa fa-expand"></i>
                <h5>Plant Diameter</h5>
              </div>
              <i
                class="nc-icon"
                [ngClass]="filterToggle['plant-Diameter'] ? 'nc-minimal-up' : 'nc-minimal-down'"
              >
              </i>
            </div>
            <div class="selected-filter" *ngIf="plantDM_selected.length > 0">
              <i class="fa fa-check-circle"></i> {{ plantDM_selected.join(', ') }}
            </div>
            <div class="filter-content" *ngIf="filterToggle['plant-Diameter']">
              <div class="size-buttons">
                <button
                  type="button"
                  class="size-btn"
                  [class.active]="plantDM_selected.includes(diam_val)"
                  (click)="onDiameterClick($event)"
                  *ngFor="let diam_val of diam"
                >
                  {{ diam_val }}
                </button>
              </div>
            </div>
          </div>

          <!-- PRICE FILTER -->
          <div class="filter-box mb-3">
            <div class="filter-header" (click)="toggleFilterBox('price')">
              <div class="filter-title">
                <i class="fa fa-money"></i>
                <h5>Price</h5>
              </div>
              <i
                class="nc-icon"
                [ngClass]="filterToggle.price ? 'nc-minimal-up' : 'nc-minimal-down'"
              >
              </i>
            </div>
            <div class="selected-filter" *ngIf="plantPR_selected">
              <i class="fa fa-check-circle"></i> {{ plantPR_selected }}
            </div>

            <div class="filter-content" *ngIf="filterToggle.price">
              <nouislider
                class="slider slider-info"
                [connect]="[false, true, false]"
                [min]="this.minprices"
                [max]="this.maxprices"
                [step]="10"
                [(ngModel)]="doubleSlider"
                [tooltips]="[false, false]"
                (ngModelChange)="onPriceClick($event)"
              ></nouislider>
              <span class="price-range"
                >Price: ₹{{ doubleSlider[0] }} - ₹{{ doubleSlider[1] }}</span
              >
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
